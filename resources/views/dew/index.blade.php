<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>纯悦</title>
    <script src="../../res/dew/js/flexible.js"></script>
    <link rel="stylesheet" href="../../res/dew/css/normalize.css">
    <link rel="stylesheet" href="../../res/dew/css/index.css">
</head>
<body>
<audio class="click_music" src="../../res/dew/music/click.mp3" preload></audio>
<audio class="bg_music" src="../../res/dew/music/bg.mp3" preload loop autoplay></audio>
<!-- 启动页 -->
<div class='body'>
    <section class="login">
        <div class="logo"></div>
        <div class='title'></div>
        <div class="start"></div>
    </section>
    <div class='icon'>
        <img class='light' src="../../res/dew/images/light.png">
        <img class='gold' src="../../res/dew/images/gold100.png">
    </div>
    <!-- 第一关 -->
    <section class="checkPoint1 hide">
        <div class="tips">
            <h2>第一关</h2>
            <p>
                寻找纯悦钻石品质<br/>
                <span>7秒</span>限时<br/>
                找寻纯悦元素相关宝藏<br/>
                赢取纯悦钻石积分<br/>
                看好你<br/>
                <img src="../../res/dew/images/icon1.png"><br/>
                <img class="play" src="../../res/dew/images/play_btn.png">
            </p>
        </div>
        <div class="main">
            <div class="title">
                <div class="time_container">时间: 00:<span class='time'>07</span></div>
                <div class="score_container"><img src="../../res/dew/images/gold.png"><span class='score'>0</span></div>
            </div>
            <div class="content">
                <div class="point point1" data-point='true'></div>
                <div class="point point2" data-point='true'></div>
                <div class="point point3" data-point='true'></div>
                <div class="point point6" data-point='true'></div>
                <div class="point point7" data-point='true'></div>
                <div class="point point15" data-point='true'></div>
            </div>
        </div>
    </section>
    <!-- 第二关 -->
    <section class="checkPoint2 hide">
        <div class="tips">
            <h2>第二关</h2>
            <p>
                寻找纯悦钻石品质<br/>
                <span>10秒</span>限时<br/>
                找寻纯悦元素相关宝藏<br/>
                赢取纯悦钻石积分<br/>
                看好你<br/>
                <img src="../../res/dew/images/icon1.png"><br/>
                <img class="play" src="../../res/dew/images/play_btn.png">
            </p>
        </div>
        <div class="main">
            <div class="title">
                <div class="time_container">时间: 00:<span class='time'>10</span></div>
                <div class="score_container"><img src="../../res/dew/images/gold.png"><span class='score'>0</span></div>
            </div>
            <div class="content">
                <div class="point point1" data-point='true'></div>
                <div class="point point2" data-point='true'></div>
                <div class="point point3" data-point='true'></div>
                <div class="point point6" data-point='true'></div>
                <div class="point point7" data-point='true'></div>
                <div class="point point8" data-point='true'></div>
                <div class="point point9" data-point='true'></div>
                <div class="point point11" data-point='true'></div>
                <div class="point point10" data-point='true'></div>
                <div class="point point12" data-point='true'></div>
                <div class="point point14" data-point='true'></div>
                <div class="point point13" data-point='true'></div>
                <div class="point point16" data-point='true'></div>
                <div class="point point15" data-point='true'></div>
                <div class="point point17" data-point='true'></div>
                <div class="point point18" data-point='true'></div>
                <div class="point point26" data-point='true'></div>
                <div class="point point27" data-point='true'></div>
                <div class="point point28" data-point='true'></div>
            </div>
        </div>
    </section>
    <!-- 第三关 -->
    <section class="checkPoint3 hide">
        <div class="tips">
            <h2>第三关</h2>
            <p>
                寻找纯悦钻石品质<br/>
                <span>15秒</span>限时<br/>
                搜寻纯悦钻石品质铺货渠道<br/>
                赢取纯悦钻石积分<br/>
                看好你<br/>
                <strong>此关屏幕可以左右移动</strong><br/>
                <img src="../../res/dew/images/icon1.png"><br/>
                <img class="play" src="../../res/dew/images/play_btn.png">
            </p>
        </div>
        <div class="main">
            <div class="title">
                <div class="time_container">时间: 00:<span class='time'>15</span></div>
                <div class="score_container"><img src="../../res/dew/images/gold.png"><span class='score'>0</span></div>
            </div>
            <div class='scroll_container'>
                <div class="content">
                    <div class="point point1" data-point='true'></div>
                    <div class="point point2" data-point='true'></div>
                    <div class="point point3" data-point='true'></div>
                    <div class="point point4" data-point='true'></div>
                    <div class="point point5" data-point='true'></div>
                    <div class="point point6" data-point='true'></div>
                    <div class="point point7" data-point='true'></div>
                    <div class="point point8" data-point='true'></div>
                    <div class="point point11" data-point='true'></div>
                    <div class="point point9" data-point='true'></div>
                    <div class="point point10" data-point='true'></div>
                    <div class="point point14" data-point='true'></div>
                    <div class="point point12" data-point='true'></div>
                    <div class="point point13" data-point='true'></div>
                    <div class="point point16" data-point='true'></div>
                    <div class="point point15" data-point='true'></div>
                    <div class="point point17" data-point='true'></div>
                    <div class="point point18" data-point='true'></div>
                    <div class="point point19" data-point='true'></div>
                    <div class="point point20" data-point='true'></div>
                    <div class="point point21" data-point='true'></div>
                    <div class="point point22" data-point='true'></div>
                    <div class="point point23" data-point='true'></div>
                    <div class="point point24" data-point='true'></div>
                    <div class="point point25" data-point='true'></div>
                    <div class="point point26" data-point='true'></div>
                    <div class="point point27" data-point='true'></div>
                    <div class="point point28" data-point='true'></div>
                    <div class="point point29" data-point='true'></div>
                    <div class="point point30" data-point='true'></div>
                    <div class="point point31" data-point='true'></div>
                    <div class="point point32" data-point='true'></div>
                    <div class="point point33" data-point='true'></div>
                    <div class="point point34" data-point='true'></div>
                    <div class="point point35" data-point='true'></div>
                    <div class="point point37" data-point='true'></div>
                    <div class="point point36" data-point='true'></div>
                    <div class="point point38" data-point='true'></div>
                    <div class="point point39" data-point='true'></div>
                    <div class="point point40" data-point='true'></div>
                </div>
            </div>
        </div>
    </section>
    <!-- 信息录入 -->
    <section class='info hide'>
        <div class='logo_icon'>
            <img class='light' src="../../res/dew/images/light2.png">
            <img class='logo' src="../../res/dew/images/logo_icon.png">
        </div>
        <div class='pannel'>
            <div class='username_box'>
                <div class='username_text'>姓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名:</div>
                <div class='input_box'><input type="text"></div>
            </div>
            <div class='contact_box'>
                <div class='contact_text'>联系方式:<span>(微信号或手机号)</span></div>
                <div class='input_box'><input type="text"></div>
            </div>
        </div>
        <div class='confirm'>
            <button>确认</button>
        </div>
    </section>
    <!-- 结果页 -->
    <section class='result1 result hide'>
        <div class='logo_icon'>
            <img class='light' src="../../res/dew/images/light2.png">
            <img class='logo' src="../../res/dew/images/gold_large.png">
            <p><span class='num'>0</span><br/>颗</p>
        </div>
        <div class='pannel'></div>
        <div class='confirm'>
            <button class='reset'>再次挑战</button>
            <button class='share_btn'>分享查看排名</button>
        </div>
    </section>
    <section class='result2 result hide'>
        <div class='logo_icon'>
            <img class='light' src="../../res/dew/images/light2.png">
            <img class='logo' src="../../res/dew/images/gold_large.png">
            <p><span class='num'>0</span><br/>颗</p>
        </div>
        <div class='pannel'></div>
        <div class='confirm'>
            <button class='reset'>再次挑战</button>
            <button class='share_btn'>分享查看排名</button>
        </div>
    </section>
    <section class='result3 result hide'>
        <div class='logo_icon'>
            <img class='light' src="../../res/dew/images/light2.png">
            <img class='logo' src="../../res/dew/images/gold_large.png">
            <p><span class='num'>0</span><br/>颗</p>
        </div>
        <div class='pannel'></div>
        <div class='confirm'>
            <button class='reset'>再次挑战</button>
            <button class='share_btn'>分享查看排名</button>
        </div>
    </section>
    <!-- 分享页面 -->
    <section class='share hide'>
        <img src="../../res/dew/images/share.png">
    </section>
    <!-- 排行榜 -->
    <section class='ranking hide'>
        <div class='logo_icon'>
            <img class='light' src="../../res/dew/images/light2.png">
            <img class='logo' src="../../res/dew/images/logo_icon.png">
        </div>
        <div class='content'>
            <h2>钻石排名</h2>
            <div class='title'>
                <div class='no'>名次</div>
                <div class='username'>姓名</div>
                <div class='num'>钻石数</div>
            </div>
            <ul>

            </ul>
            <p class='tips2'>排名滚动更新, 前十大奖揭晓时间为XXXX</p>
        </div>
    </section>
</div>
<script src="../../res/dew/js/jquery.min.js"></script>
<script type="application/javascript">
    var isRegister = {{ is_null($user) ? 'false' : 'true' }};
    var openid = '{{ $wechatInfo['id'] }}';
    var status = 0;
</script>
<script src="../../res/dew/js/index.js"></script>
</body>
<script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js" type="text/javascript" charset="utf-8"></script>
<script type="application/javascript">
    wx.config(<?php echo $js->config(array('onMenuShareTimeline', 'onMenuShareAppMessage'), false) ?>);
    // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在 页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready 函数中。
    wx.ready(function () {
        // 获取“分享到朋友圈”按钮点击状态及自定义分享内容接口
        wx.onMenuShareTimeline({
            title: '纯悦 2018', // 分享标题
            link: "https://api.shanghaichujie.com/dew/index",
            imgUrl: "https://api.shanghaichujie.com/res/dew/images/share_wechat.png", // 分享图标
            success: function () {
                if (status) {
                    $.ajax({
                        url: 'https://api.shanghaichujie.com/api/dew/rank',
                        type: 'GET',
                        success: function (data) {
                            var html = '';
                            for (var i = 0, m = data.length; i < m; i++) {
                                html += '<li><div class="no">' + (i + 1) + '</div><div class="username">' + data[i].username + '</div><div class="num">' + data[i].score + '</div></li>'
                            }
                            $('.ranking ul').append(html);
                            $('.ranking').show().siblings('section:not(.checkPoint3)').hide();
                        }
                    });
                }
            }
        });
        // 获取“分享给朋友”按钮点击状态及自定义分享内容接口
        wx.onMenuShareAppMessage({
            title: '纯悦 2018', // 分享标题
            desc: "在厦门系统大会发现不同", // 分享描述
            link: "https://api.shanghaichujie.com/dew/index",
            imgUrl: "https://api.shanghaichujie.com/res/dew/images/share_wechat.png", // 分享图标
            type: 'link', // 分享类型,music、video或link，不填默认为link
            success: function () {
                if (status) {
                    $.ajax({
                        url: 'https://api.shanghaichujie.com/api/dew/rank',
                        type: 'GET',
                        success: function (data) {
                            var html = '';
                            for (var i = 0, m = data.length; i < m; i++) {
                                html += '<li><div class="no">' + (i + 1) + '</div><div class="username">' + data[i].username + '</div><div class="num">' + data[i].score + '</div></li>'
                            }
                            $('.ranking ul').append(html);
                            $('.ranking').show().siblings('section:not(.checkPoint3)').hide();
                        }
                    });
                }
            }
        });
    });
</script>
</html>
